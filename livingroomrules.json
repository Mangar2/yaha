{
    "devices": {
        "rules": {
            "camera": {
                "check": ["!=", "$SYS/presence", "initial"],
                "value": ["switch", "$SYS/presence", {"absent": "on", "default": "off"}],
                "topic": "ground/livingroom/zwave/switch/camera/set"
            },
            "ampNightOff": {
                "time": "01:00",
                "topic": { "ground/livingroom/fs20/switch/amplifier/set": "off" }
            },
            "charge": {
                "cooldownInSeconds": 600,
                "check": [">", "solar/average feedin", 3000],
                "topic": { "ground/livingroom/zwave/switch/charge/set": "on" }
            }
        }
    },
    "light": {
        "rules": {
            "morning": {
                "check": ["and", ["<=", "/time", ["-", "/sunrise", 10]], ["=", "$SYS/presence", "awake"]],
                "allOf": [
                    "ground/hallway/wall/motion sensor/detection state"
                ],
                "noneOf": [
                    "ground/hallway/center/motion sensor/detection state"
                ],
                "cooldownInSeconds": 3600,
                "topic": { "home/ground/livingroom/zwave/switch/floodlight/set": "on" }
            }
        }
    },
    "roller": {
        "rules": {
            "UpMorning": {
                "time": ["switch", "$SYS/presence", {"absent": "8:00", "awake": "6:00", "sleeping": "10:00"}],
                "check": ["and", [">=", "/time", ["-", "/sunrise", 10]], ["!=", "$SYS/presence", "initial"]],
                "topic": {
                    "ground/livingroom/zwave/shutter/southeast/set": "on",
                    "ground/livingroom/zwave/shutter/southwest/set": "on"
                }
            },
            "DownCooling": {
                "time": ["switch", "$SYS/presence", {"absent": "9:30", "awake": "12:00", "sleeping": "9:30"}],
                "check": [
                    "and",
                    [">", "outdoor/garden/main/weather/temperature", 22],
                    [">", "first/hallway/main/temperature and humidity sensor/temperature in celsius", 
                        ["switch", "$SYS/presence", {"absent": 23, "awake": 25, "sleeping": 24}]
                    ]
                ],
                "topic": {
                    "ground/livingroom/zwave/shutter/southeast/set": "off",
                    "ground/livingroom/zwave/shutter/southwest/set": "off"
                }
            },
            "UpAfternoon": {
                "time": ["switch", "$SYS/presence", {"absent": "17:00", "awake": "16:00", "sleeping": "17:00"}],
                "check": ["and", ["<=", "/time", ["-", "/sunset", 30]], ["!=", "$SYS/presence", "initial"]],
                "topic": {
                    "ground/livingroom/zwave/shutter/southeast/set": "on",
                    "ground/livingroom/zwave/shutter/southwest/set": "on"
                }
            },
            "DownSunsetse": {
                "check": [">=", "/time", "/sunset"],
                "topic": { "ground/livingroom/zwave/shutter/southwest/set": "off" }
            },
            "DownSunsetsw": {
                "check": [">=", "/time", ["-", "/sunset", 20]],
                "topic": { "ground/livingroom/zwave/shutter/southeast/set": "off" }
            },
            "DownEvening": {
                "time": "23:30",
                "topic": {
                    "ground/livingroom/zwave/shutter/southeast/set": "off",
                    "ground/livingroom/zwave/shutter/southwest/set": "off"
                }
            }
        }
    }
}