[
    {
        "description": "makros",
        "rule": {
            "rules": {
                "pcmaster": {
                    "allOf": [
                        "first/study/zwave/switch/pcmaster/set"
                    ],
                    "value": [
                        "switch",
                        "first/study/zwave/switch/pcmaster/set",
                        {
                            "1": "on",
                            "on": "on",
                            "default": "off"
                        }
                    ],
                    "topic": [
                        "first/study/zwave/switch/master/set",
                        "first/study/zwave/switch/pcvolker/set"
                    ]
                }
            }
        },
        "motionTopics": [
            "+/+/motion",
            "$SYS/+/set"
        ],
        "subscriptions": {
            "#": 1
        },
        "tests": [
            {
                "description": "set master",
                "message": {
                    "first/study/zwave/switch/pcmaster/set": "on"
                },
                "expected": {
                    "messages": [
                        {
                            "topic": "first/study/zwave/switch/master/set",
                            "value": "on"
                        },
                        {
                            "topic": "first/study/zwave/switch/pcvolker/set",
                            "value": "on"
                        }
                    ]
                }
            }
        ]
    },
    {
        "description": "time variable",
        "rule": {
            "rules": {
                "GroundMovement": {
                    "allOf": [
                        "ground/floor/movement/set"
                    ],
                    "value": "/time",
                    "topic": "$SYS/ground/motion/latest"
                }
            }
        },
        "motionTopics": [
            "+/+/motion",
            "$SYS/+/set"
        ],
        "subscriptions": {
            "#": 1
        },
        "tests": [
            {
                "description": "set time",
                "message": {
                    "ground/floor/movement/set": "on"
                },
                "expected": {
                    "messages": [
                        {
                            "topic": "$SYS/ground/motion/latest"
                        }
                    ]
                }
            }
        ]
    }
]