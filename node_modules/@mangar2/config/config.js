/**
 * @license
 * This software is licensed under the GNU LESSER GENERAL PUBLIC LICENSE Version 3. It is furnished
 * "as is", without any support, and with no warranty, express or implied, as to its usefulness for
 * any purpose.
 *
 * @author Volker Böhm
 * @copyright Copyright (c) 2020 Volker Böhm
 * @description
 * Very simple module to select the right configuration settings from a configuration file.
 * Reads a configuration file in JSON format and selects the right configuration set (property) from NODE_ENV.
 * Uses configuration set "development", if NODE_ENV is not set.
 * @example
 * const config = require("./config.json");
 * const activeConfig = require("@mangar2/config")(config);
 */

/**
 * Gets the active configuration (set by OS variable NODE_ENV)
 * @param {object} config configuration setting read from file
 * @returns {object} the active configuration set
 */
module.exports = (config) => {
    const environment = process.env.NODE_ENV === undefined ? 'development' : process.env.NODE_ENV
    const finalConfig = config[environment]
    return finalConfig
}
