/**
 * @license
 * This software is licensed under the GNU LESSER GENERAL PUBLIC LICENSE Version 3. It is furnished
 * "as is", without any support, and with no warranty, express or implied, as to its usefulness for
 * any purpose.
 *
 * @author Volker Böhm
 * @copyright Copyright (c) 2020 Volker Böhm
 * @overview
 * Errorlog is a small helper to log error messages (usually used in catch blocks)
 * @example
 * errorLog('hello world')
 * errorLog(new Error('hello world'), false)
 */
'use strict'

/**
 * logs an error
 * - If error is a string, it just logs the string.
 * - If error is an Error object it logs the message and the stack trace (if the debug flag is true).
 * @param {Error|string} error error object or error string
 * @param {boolean} [debug=true] true to print the full stack trace
 */
var errorLog = (error, debug = true) => {
    if (typeof error === 'string') {
        console.error('%s %s', new Date().toLocaleString(), error)
    } else if (typeof error === 'object') {
        if (error.message !== undefined) {
            console.error('%s %s', new Date().toLocaleString(), error.message)
        }
        if (error.stack !== undefined && debug) {
            console.error(error.stack)
        }
    }
}

module.exports = errorLog
