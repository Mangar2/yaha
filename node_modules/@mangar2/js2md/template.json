{
    "templates": [
        { "$ref": "document headline" },
        { "$ref": "document contents" },
        { "$ref": "document meta" },
        { "$ref": "global typedef" },
        { "$ref": "global callback" },
        { "$ref": "global functions" },
        { "$ref": "class list" }
    ],
    "$def": {
        "document headline": [
            { "text": "<!-- This file is generated by jsmddoc version 0.1 -->\n\n" },
            { "text": "# Abstract\n" },
            { 
                "iterate on": "file",
                "for each": [
                    { "if exists": "overview", "text": "\n@overview\n" },
                    { "if exists": "description", "text": "\n@description\n" }
                ]
            },
            { 
                "iterate on": "file",
                "for each": { "if exists": "example", "text": "\nExample\n\n```shell\n@example\n```\n" }
            }
        ],
        "document contents": [
            { "text": "\n## Contents\n\n" },
            { "text": "- [Meta](#Meta)\n" },
            { "if exists": "typedef", "text": "- [Type definitions](#Type-definitions)\n" },
            { "if exists": "function", "text": "- [Global Functions](#Global-functions)\n" },
            {
                "iterate on": "function",
                "for each": [
                    { "text": "  - [@name](#@name)\n" }
                ]
            },
            {
                "iterate on": "class",
                "for each": [
                    { "text": "- [Class: @name](#Class:-@name)\n" },
                    { "if exists": "param", "text": "  - [Parameters](#@name-Parameters)\n" },
                    { "if exists": "member", "text": "  - [Members](#@name-Members)\n"},
                    { "if exists": "method", "text": "  - [Methods](#@name-Methods)\n"},
                    {
                        "iterate on": "method",
                        "for each": [
                            { "text": "    - [@name](#@name)\n"}
                        ]
                    }

                ]
            }
        ],
        "document meta": [
            { "text": "\n## Meta\n" },
            { 
                "iterate on": "file",
                "for each": {
                    "if exists": "overview",
                    "$ref": "file meta"
                }
            }
        ],
        "file meta": [
            { "text": "\n| | |\n"},
            { "text": "| --- | --- |\n"},
            { "text": "| **File** | @filename |\n" },
            { "text": "| **Abstract** | @overview |\n" },
            { "if exists": "author", "text": "| **Author** | @author |\n" },
            { "if exists": "copyright", "text": "| **Copyright** | @copyright |\n" },
            { "if exists": "license", "text": "| **License** | @license |\n" }
        ],
        "global typedef": {
            "iterate on": "typedef",
            "for each": [
                { "if isfirst": true, "text": "\n## Type definitions\n" },
                { "text": "\n### @typedef {@type}\n\n" },
                { "$ref": "typedef table" }
            ]
        },
        "global callback": {
            "iterate on": "callback",
            "for each": [
                { "if isfirst": true, "text": "\n## Callback definitions\n" },
                { "text": "\n### @callback\n\n" },
                { "if exists": "param", "text": "\n#### @callback Parameters\n\n", "$ref": "parameter table" },
                { "if exists": "throws", "text": "\n#### @callback throws\n\n", "$ref": "throws table" },
                { "if exists": "returns", "text": "\n#### @callback returns\n\n", "$ref": "return table" }
            ]
        },
        "global functions": { "if exists": "function", "$ref": "function list" },
        "class list": [
            {
                "iterate on": "class",
                "for each": [
                    { "$ref": "class headline" },
                    { "if exists": "example", "text": "\n### Example\n\n```javascript\n@example\n```\n"},
                    { "if exists": "param", "text": "\n### @name Parameters\n\n", "$ref": "parameter table" },
                    { "if exists": "member", "text": "\n### @name Members\n\n", "$ref": "member list" },
                    { "if exists": "method", "text": "\n### @name Methods\n", "$ref": "method list" }
                ]
            }
        ],
        "class headline": [
            { "text": "\n## Class: @name\n\n" },
            { "text": "`new @name(" },
            { "$ref": "parameter list" },
            { "text": ")`\n" },
            { "if exists": "description", "text": "\n@description\n" },
            { "if exists": "classdesc", "text": "\n@classdesc\n" }
        ],
        "typedef table": [
            {
                "iterate on": "property",
                "for each": [ 
                    { "if isfirst": true, "text": "| Name | Type | Description |\n" },
                    { "if isfirst": true, "text": "| ---- | ---- | ------- |\n" },
                    { "$ref": "parameter line" }
                ]
            }
        ],
        "parameter line": [
            { "text": "|" },
            { "if exists": "name", "text": " `@name` |" },
            { "if exists": "type", "text": " `@type` |" },
            { "if exists": "attributes", "text": " @attributes |" },
            { "if exists": "default", "text": " @default |" },
            { "if exists": "description", "text": " @description |" },
            { "text": " |\n" }
        ],
        "parameter table": [
            {
                "iterate on": "param",
                "for each": [ 
                    { "if isfirst": true, "text": "| Name | Type |" },
                    { "if isfirst": true, "if exists": "attributes", "text": " Attribute |" },
                    { "if isfirst": true, "if exists": "default", "text": " Default |" },
                    { "if isfirst": true, "if exists": "description", "text": " Description |" },
                    { "if isfirst": true, "text": "\n" },
                    { "if isfirst": true, "text": "| ---- | ---- | ---- | ---- | ----------- |\n" },
                    { "$ref": "parameter line" }
                ]
            },
            {
                "iterate on": "param",
                "for each": {
                    "if exists": "param",
                    "text": "\n#### @name properties\n\n",
                    "$ref": "parameter table"
                }
            }
        ],
        "parameter list": {
            "iterate on": "param",
            "for each": { "text": "@name", "separator": ", " }
        },
        "return table": [
            { "text": "| Type | Description |\n| ---- | ----------- |\n" },
            {
                "iterate on": "returns",
                "for each": { "text": "| `@type` | @description |\n" }
            }
        ],
        "throws table": [
            { "text": "| Type | Description |\n| ---- | ----------- |\n" },
            {
                "iterate on": "throws",
                "for each": { "text": "| `@type` | @description |\n" }
            }
        ],
        "method": [
            { "text": "\n#### @name\n\n" },
            { "text": "`" },
            { "if exists": "attributes", "text": "@attributes " },
            { "text": "@name (" },
            { "$ref": "parameter list" },
            { "text": ")" },
            { "iterate on": "returns", "for each": { "text": " => {@type}"} },
            { "text": "`\n\n" },
            { "if exists": "description", "text": "@description\n" }
        ],
        "method list": {
            "iterate on": "method",
            "for each": [
                { "$ref": "method" },
                { "if exists": "param", "text": "\n##### @name Parameters\n\n", "$ref": "parameter table" },
                { "if exists": "throws", "text": "\n##### @name throws\n\n", "$ref": "throws table" },
                { "if exists": "returns", "text": "\n##### @name returns\n\n", "$ref": "return table" }
            ]
        },
        "function": [
            { "text": "\n### @name\n\n" },
            { "text": "`" },
            { "if exists": "attributes", "text": "@attributes " },
            { "text": "@name (" },
            { "$ref": "parameter list" },
            { "text": ")" },
            { "iterate on": "returns", "for each": { "text": " => {@type}"} },
            { "text": "`\n\n" },
            { "if exists": "description", "text": "@description\n" },
            { "if exists": "example", "text": "\n#### Example\n\n```javascript\n@example\n```\n"}
        ],
        "function list": {
            "iterate on": "function",
            "for each": [
                { "if isfirst": true, "text": "\n## Global functions\n" },
                { "$ref": "function" },
                { "if exists": "param", "text": "\n#### @name Parameters\n\n", "$ref": "parameter table" },
                { "if exists": "throws", "text": "\n#### @name throws\n\n", "$ref": "throws table" },
                { "if exists": "returns", "text": "\n#### @name returns\n\n", "$ref": "return table" }
            ]
        },
        "member list": {
            "iterate on": "member",
            "for each": [
                { "if isfirst": true, "text": "| Name | Type |" },
                { "if isfirst": true, "if exists": "attributes", "text": " attributes |" },
                { "if isfirst": true, "text": " description |\n" },
                { "if isfirst": true, "text": "| ---- | ---- | ---- | ---------- |\n" },
                { "text": "| `@name` | `@type` |" },
                { "if exists": "attributes", "text": " @attributes |" },
                { "text": " @description |\n" }
            ]
        }
    }
}
