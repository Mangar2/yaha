/**
 * ---------------------------------------------------------------------------------------------------
 * This software is licensed under the GNU LESSER GENERAL PUBLIC LICENSE Version 3. It is furnished
 * "as is", without any support, and with no warranty, express or implied, as to its usefulness for
 * any purpose.
 *
 * File:        test.js
 *
 * Author:      Volker Böhm
 * Copyright:   Volker Böhm
 * ---------------------------------------------------------------------------------------------------
 */

const Message = require('@mangar2/message')
const UnitTest = require('@mangar2/unittest')
var unitTest = new UnitTest(false);

(() => {
    const message1 = new Message('/hello/world', 'on', 'test made')
    message1.addReason('added reason')
    const message2 = new Message('/hello/world', 'off', 'test made', new Date(0))
    unitTest.assertEqual(message1.topic, '/hello/world', 'topic')
    unitTest.assertEqual(message1.value, 'on', 'value')
    unitTest.assertEqual(message1.reason[0].message, 'test made', 'reason 1')
    unitTest.assertEqual(message1.reason[1].message, 'added reason', 'reason 2')
    unitTest.assertEqual(message2.reason[0].timestamp, '1970-01-01T00:00:00.000Z', 'reason 3')
    unitTest.showResult(5)
})()
