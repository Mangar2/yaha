<!-- This file is generated by jsmddoc version 0.1 -->

# Abstract

Provides a storage for Message trees and provides a rest interface to get chunks of the message tree

## Contents

- [Meta](#Meta)
- [Class MessageStore](#Class-MessageStore)
  - [Parameters](#MessageStore-Parameters)
  - [Members](#MessageStore-Members)
  - [Methods](#MessageStore-Methods)
    - [_getSection](#_getSection)
    - [addMessage](#addMessage)
    - [close](#close)
    - [run](#run)

## Meta

| | |
| --- | --- |
| **File** | messagestore.js |
| **Abstract** | Provides a storage for Message trees and provides a rest interface to get chunks of the message tree |
| **Author** | Volker Böhm |
| **Copyright** | Copyright ( c ) 2020 Volker Böhm |
| **License** | This software is licensed under the GNU LESSER GENERAL PUBLIC LICENSE Version 3 . It is furnished "as is" , without any support , and with no warranty , express or implied , as to its usefulness for any purpose . |

## Class MessageStore

`new MessageStore(options)`

Creates a message store object and configures it . Adds a listener for get requests

### MessageStore Parameters

| Name | Type | Attribute | Default | Description |
| ---------- | ------------ | ------------ | ------------ | ----------------- |
| `options` | `Object` | optional | { } | message store parameters | |

### MessageStore Members

| Name | Type | description |
| ------------ | ------------ | ------------ |
| `messages` | `MessageTree` | Tree of messages |

### MessageStore Methods

#### _getSection

`_getSection (topic, headers, payload)`

Retrieves a section of the message tree

##### _getSection Parameters

| Name | Type | Description |
| ---------- | ------------ | ----------------- |
| `topic` | `string` | topic of the section | |
| `headers` | `Object` | header information | |
| `payload` | `string` | payload | |

#### addMessage

`addMessage (message)`

Adds a message to the three node matching to the topic path .

##### addMessage Parameters

| Name | Type | Description |
| ---------- | ------------ | ----------------- |
| `message` | `Message` | { topic , value , reason } | |

#### message properties

| Name | Type | Description |
| ---------- | ------------ | ----------------- |
| `topic` | `string` | topic string | |
| `value` | `Object` | value of the topic | |
| `reason` | `Array.<Object>` | list of reasons | |

#### close

`async close ()`

Closes the broker , stops listening

#### run

`run ()`

Listens to a configured port
