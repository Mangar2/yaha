[
    {
        "description": "different reason",
        "add": [
            ["a", "value1", "same"],
            ["a", "value2", "same"],
            ["a", "value3", "same"],
            ["a", "value4", "different"]
        ],
        "tests": [
            {
                "description": "last",
                "getNode": "a",
                "expected": {
                    "value": "value4",
                    "reason": "different",
                    "history": [{
                        "type": "timeValue",
                        "reason": "same",
                        "values": [[ "timestamp", "value1" ], ["timestamp", "value2"], ["timestamp", "value3"]]
                    }]
                }
            }
        ]
    },
    {
        "description": "different reason",
        "add": [
            ["a", "value1", "same"],
            ["a", "value2", "same"],
            ["a", "value3", "different"],
            ["a", "value4", "same"]
        ],
        "tests": [
            {
                "description": "inbetween",
                "getNode": "a",
                "expected": {
                    "value": "value4",
                    "reason": "same",
                    "history": [
                        {
                            "type": "single",
                            "reason": "different",
                            "value": "value3",
                            "time": "timestamp"
                        },
                        {
                        "type": "timeValue",
                        "reason": "same",
                        "values": [[ "timestamp", "value1" ], ["timestamp", "value2"]]
                    }]
                }
            }
        ]
    },
    {
        "description": "max one value per entry",
        "config": {
            "maxValuesPerHistoryEntry": 1
        },
        "add": [
            ["a", "value1", "same"],
            ["a", "value2", "same"],
            ["a", "value3", "same"],
            ["a", "value4", "same"]
        ],
        "tests": [
            {
                "description": "one",
                "getNode": "a",
                "expected": {
                    "value": "value4",
                    "reason": "same",
                    "history": [
                        {
                            "type": "single",
                            "reason": "same",
                            "value": "value3",
                            "time": "timestamp"
                        },
                        {
                            "type": "single",
                            "reason": "same",
                            "value": "value2",
                            "time": "timestamp"
                        },
                        {
                            "type": "single",
                            "reason": "same",
                            "value": "value1",
                            "time": "timestamp"
                        }
                    ]
                }
            }
        ]
    },
    {
        "description": "max two values per entry",
        "config": {
            "maxValuesPerHistoryEntry": 2
        },
        "add": [
            ["a", "value1", "same"],
            ["a", "value2", "same"],
            ["a", "value3", "same"],
            ["a", "value4", "same"]
        ],
        "tests": [
            {
                "description": "two",
                "getNode": "a",
                "expected": {
                    "value": "value4",
                    "reason": "same",
                    "history": [
                        {
                            "type": "single",
                            "reason": "same",
                            "value": "value3",
                            "time": "timestamp"
                        },
                        {
                            "type": "timeValue",
                            "reason": "same",
                            "values": [[ "timestamp", "value1" ], ["timestamp", "value2"]]
                        }
                    ]
                }
            }
        ]
    }
]