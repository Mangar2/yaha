[
    {
        "description": "ten nodes",
        "add": [
            ["", "value1", "a"], ["", "value2", "b"], ["", "value3", "a"], ["", "value4", "b"], ["", "value5", "a"],
            ["", "value6", "b"], ["", "value7", "a"], ["", "value8", "b"], ["", "value9", "a"], ["", "value10", "b"],
            ["", "new"]
        ],
        "tests": [
            {
                "description": "newest node",
                "getNode": "",
                "time": "timestamp",
                "expected": {
                    "history": [ 
                        { "value": "value10" }, { "value": "value9" }, { "value": "value8" }, { "value": "value7" }, { "value": "value6" },
                        { "value": "value5" }, { "value": "value4" }, { "value": "value3" }, { "value": "value2" }, { "value": "value1" }
                    ]
                }
            }
        ]
    },
    {
        "description": "limit history",
        "config": {
            "maxHistoryLength": 5,
            "historyHysterese": 0
        },
        "add": [
            ["", "value1", "a"], ["", "value2", "b"], ["", "value3", "a"], ["", "value4", "b"], ["", "value5", "a"],
            ["", "value6", "b"], ["", "value7", "a"], ["", "value8", "b"], ["", "value9", "a"], ["", "value10", "b"],
            ["", "new"]
        ],
        "tests": [
            {
                "description": "newest node",
                "getNode": "",
                "time": "timestamp",
                "expected": {
                    "history": [ 
                        { "value": "value10" }, { "value": "value9" }, { "value": "value8" }, { "value": "value7" }, { "value": "value6" }
                    ]
                }
            }
        ]
    },
    {
        "description": "test hysterese",
        "config": {
            "maxHistoryLength": 13,
            "historyHysterese": 3
        },
        "add": [
            ["", "value1", "a"], ["", "value2", "b"], ["", "value3", "a"], ["", "value4", "b"], ["", "value5", "a"],
            ["", "value6", "b"], ["", "value7", "a"], ["", "value8", "b"], ["", "value9", "a"], ["", "value10", "b"],
            ["", "new"]
        ],
        "tests": [
            {
                "description": "hysterese is large enough",
                "getNode": "",
                "time": "timestamp",
                "expected": {
                    "history": [ 
                        { "value": "value10" }, { "value": "value9" }, { "value": "value8" }, { "value": "value7" }, { "value": "value6" },
                        { "value": "value5" }, { "value": "value4" }, { "value": "value3" }, { "value": "value2" }, { "value": "value1" }
                    ]
                }
            }
        ]
    },
    {
        "description": "test hysterese",
        "config": {
            "maxHistoryLength": 10,
            "historyHysterese": 3
        },
        "add": [
            ["", "value1", "a"], ["", "value2", "b"], ["", "value3", "a"], ["", "value4", "b"], ["", "value5", "a"],
            ["", "value6", "b"], ["", "value7", "a"], ["", "value8", "b"], ["", "value9", "a"], ["", "value10", "b"],
            ["", "new"]
        ],
        "tests": [
            {
                "description": "hysterese is large enough",
                "getNode": "",
                "time": "timestamp",
                "expected": {
                    "history": [ 
                        { "value": "value10" }, { "value": "value9" }, { "value": "value8" }, { "value": "value7" }, { "value": "value6" },
                        { "value": "value5" }, { "value": "value4" }
                    ]
                }
            }
        ]
    },
    {
        "description": "test large hysterese",
        "config": {
            "maxHistoryLength": 10,
            "historyHysterese": 20
        },
        "add": [
            ["", "value1", "a"], ["", "value2", "b"], ["", "value3", "a"], ["", "value4", "b"], ["", "value5", "a"],
            ["", "value6", "b"], ["", "value7", "a"], ["", "value8", "b"], ["", "value9", "a"], ["", "value10", "b"],
            ["", "new"]
        ],
        "tests": [
            {
                "description": "hysterese is large enough",
                "getNode": "",
                "time": "timestamp",
                "expected": {
                    "history": [ 
                        { "type": "single", "value": "value10" }
                    ]
                }
            }
        ]
    }
]