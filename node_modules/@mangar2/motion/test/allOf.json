{
    "rule": {
        "motion": {
            "rules": {
                "homecoming": {
                    "check": ["=", "$SYS/presence", "absent"],
                    "durationWithoutMovementInMinutes": 0,
                    "allOf": [
                        "ground/1/motion",
                        "ground/2/motion"
                    ],
                    "allow": [
                        "ground/wardrobe/motion"
                    ],
                    "topic": ["$SYS/presence"],
                    "value": "awake"
                }
            }
        }
    },
    "subscriptions" : { 
        "+/+/motion": 2,
        "$SYS/+/set": 2
    },
    "tests": [
        {
            "name": "all provided",
            "variables": { "$SYS/presence": "absent" },
            "motions": ["ground/1/motion", "ground/2/motion", "ground/wardrobe/motion"],
            "results": [
                {
                    "topic": "$SYS/presence",
                    "value": "awake",
                    "QoS": 1
                }
            ]
        },
        {
            "name": "one provided",
            "variables": { "$SYS/presence": "absent" },
            "motions": ["ground/2/motion", "ground/wardrobe/motion"],
            "results": []
        },
        {
            "name": "none provided",
            "variables": { "$SYS/presence": "absent" },
            "motions": [],
            "results": []
        }
    ]
}
