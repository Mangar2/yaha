<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [mqttversion][1]
    -   [publish][2]
        -   [Parameters][3]
    -   [onPublish][4]
        -   [Parameters][5]
    -   [pubrel][6]
        -   [Parameters][7]
    -   [onPubrel][8]
        -   [Parameters][9]
    -   [subscribe][10]
        -   [Parameters][11]
    -   [onSubscribe][12]
        -   [Parameters][13]
    -   [unsubscribe][14]
        -   [Parameters][15]
    -   [onUnsubscribe][16]
        -   [Parameters][17]
    -   [connect][18]
        -   [Parameters][19]
    -   [onConnect][20]
        -   [Parameters][21]
    -   [disconnect][22]
        -   [Parameters][23]
    -   [onDisconnect][24]
        -   [Parameters][25]

## mqttversion

**Meta**

-   **copyright**: Copyright (c) 2020 Volker Böhm

-   **author**: Volker Böhm
-   **license**: This software is licensed under the GNU LESSER GENERAL PUBLIC LICENSE Version 3. It is furnished
    "as is", without any support, and with no warranty, express or implied, as to its usefulness for
    any purpose.

### publish

Creates the objects to publish to a client

#### Parameters

-   `version` **[string][26]** interface version ('0.0' or '1.0')
-   `token` **[string][26]** connection token
-   `message` **[Object][27]** payload
-   `qos` **[number][28]** quality of service (0,1,2)
-   `dup` **[number][28]** duplicate flag 1 (true) or 0 (false). Identifies duplicate packages
-   `retain` **[number][28]** flag 1 (true) or 0 (false). Requrests to retain the message
-   `packetid` **[number][28]** unique id of the package

Returns **[Object][27]** {headers, payload, resultCheck(result)}

### onPublish

creates the return types for a receive message

#### Parameters

-   `headers` **[Object][27]** input headers

Returns **[Object][27]** {headers, payload, statusCode, packetid}

### pubrel

creates the return types for a receive pubrel message

#### Parameters

-   `version` **[string][26]** interface version ('0.0' or '1.0')
-   `token` **[string][26]** connection token
-   `packetid` **[number][28]** of the packet (must be the same id as send by publish!)

Returns **[Object][27]** {headers, payload, resultCheck(result)}

### onPubrel

Creates the objects for a qos=2 commit message "pubcomp"

#### Parameters

-   `headers` **[Object][27]** pubrel message headers

Returns **[Object][27]** {headers, payload, statusCode, packetid}

### subscribe

Subscribes to a client

#### Parameters

-   `version` **[string][26]** interface version ('0.0' or '1.0')
-   `topics` **[Object][27]** {topic: qos, ...}
-   `clientId` **[string][26]** unique client identifier
-   `packetid` **([number][28] \| [undefined][29])** unique id of the package (not used on version 0.0)

Returns **[Object][27]** {headers, payload, resultCheck(result)}

### onSubscribe

Creates the subscribe result objects

#### Parameters

-   `headers` **[Object][27]** input headers
-   `qosArray` **[Array][30]** quality of service reply array

Returns **[Object][27]** {headers, payload, statusCode, packetid}

### unsubscribe

Creats the objects to unsubscribe from a client

#### Parameters

-   `version` **[string][26]** interface version ('0.0' or '1.0')
-   `topics` **[Array][30]** array of topic strings
-   `clientId` **[string][26]** unique client identifier
-   `packetid` **([number][28] \| [undefined][29])** unique id of the package (not used on version 0.0)

Returns **[Object][27]** {headers, payload, resultCheck(result)}

### onUnsubscribe

creates the return types for a disconnect request

#### Parameters

-   `headers` **[Object][27]** message headers

Returns **[Object][27]** {headers, payload, statusCode, packetid}

### connect

Creates the objects to connect ot a broker

#### Parameters

-   `version` **[string][26]** interface version '1.0' or '0.0'
-   `options` **[Object][27]** connect options
    -   `options.clientId` **[string][26]** unique client identifier
    -   `options.host` **[string][26]** host name of the client host
    -   `options.port` **[number][28]** port number of the clien listening port
    -   `options.clean` **bool** true, if the connection is cleaned up after disconnect
    -   `options.keepAlive` **nubmer** keep alive time in milliseconds

Returns **[Object][27]** {headers, payload, resultCheck(result)}

### onConnect

Creates the return types for a connect request

#### Parameters

-   `headers` **[Object][27]** message headers
-   `payload` **[Object][27]** payload to return

Returns **[Object][27]** {headers, payload, statusCode}

### disconnect

Creates the objects to disconnect from a broker

#### Parameters

-   `version`  
-   `clientId` **[string][26]** unique client identifier

Returns **[Object][27]** {headers, payload, resultCheck(result)}

### onDisconnect

creates the return types for a disconnect request

#### Parameters

-   `headers` **[Object][27]** message headers

Returns **[Object][27]** {headers, payload, statusCode}

[1]: #mqttversion

[2]: #publish

[3]: #parameters

[4]: #onpublish

[5]: #parameters-1

[6]: #pubrel

[7]: #parameters-2

[8]: #onpubrel

[9]: #parameters-3

[10]: #subscribe

[11]: #parameters-4

[12]: #onsubscribe

[13]: #parameters-5

[14]: #unsubscribe

[15]: #parameters-6

[16]: #onunsubscribe

[17]: #parameters-7

[18]: #connect

[19]: #parameters-8

[20]: #onconnect

[21]: #parameters-9

[22]: #disconnect

[23]: #parameters-10

[24]: #ondisconnect

[25]: #parameters-11

[26]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[27]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[28]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[29]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/undefined

[30]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array
