<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [OpensenseMap][1]
    -   [Examples][2]
-   [Sensor][3]
    -   [Properties][4]
-   [Sensors][5]
-   [getSubscriptions][6]
    -   [Parameters][7]
-   [publish][8]
    -   [Parameters][9]

## OpensenseMap

### Examples

```javascript
const config =
{
  "station" : "your station name (optional)",
  "id" : "your station id",
  "host": "ingress.opensensemap.org",
  "port": 443,
  "sensors": [{
          "name": "temperature",
          "uint": "°C",
          "topic" : "topic/used/for/the/sensor",
          "id": "your sensor id"
   }]
}
let result = await Opensensemap.publish(
   new Message('topic/used/for/the/sensor', 2.61, 'test value' },
   config
)
```

**Meta**

-   **copyright**: Copyright (c) 2020 Volker Böhm

-   **author**: Volker Böhm
-   **license**: This software is licensed under the GNU LESSER GENERAL PUBLIC LICENSE Version 3. It is furnished
    "as is", without any support, and with no warranty, express or implied, as to its usefulness for
    any purpose.

## Sensor

Type: [Object][10]

### Properties

-   `name` **[string][11]** name of the sensor
-   `unit` **[string][11]** unit of the sensor
-   `topic` **[string][11]** topic the sensor is matched to
-   `id` **[string][11]** opensensmap unique id

## Sensors

Type: [Array][12]&lt;[Sensor][13]>

## getSubscriptions

Gets the subscriptions for the service

### Parameters

-   `config` **[Object][10]** configuration (sensors, ...)
    -   `config.sensors` **[Sensors][14]** opensensemap sensor configuration
    -   `config.qos` **[number][15]** quality of service for message transport

Returns **[Array][12]&lt;[string][11]>** array of subscriptions

## publish

Publishes a value to opensensemap (you need an account to do this)
Publish data provided as Message to opensensemap. You need an account on opensensemap.org
The message topic is mapped to the sensor id provided in the config object. The message value it the value to publish

### Parameters

-   `message` **Message** the data to publish on the opensensemap
    -   `message.topic` **[string][11]** the topic is used to select the sensor id from config
    -   `message.value` **[number][15]** the value to publish to the sensor
-   `config` **[Object][10]** configuration (sensors, ...)
    -   `config.station` **[string][11]?** name of the station
    -   `config.id` **[string][11]** sensebox id (provided by open sens map)
    -   `config.host` **[string][11]** host of open sense map
    -   `config.port` **port** portnumer of open sense map (usually 443) (optional, default `443`)
    -   `config.sensors` **[Sensors][14]** opensensemap sensor configuration

Returns **Message** message containing the status. Send it back to the broker

[1]: #opensensemap

[2]: #examples

[3]: #sensor

[4]: #properties

[5]: #sensors

[6]: #getsubscriptions

[7]: #parameters

[8]: #publish

[9]: #parameters-1

[10]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[11]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[12]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[13]: #sensor

[14]: #sensors

[15]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number
