[
    {
        "description": "normal rule",
        "rule": {
            "time": "8:00",
            "cooldownInSeconds": 300,
            "topic": "cooldown",
            "value": "off"
        },
        "tests": [
            {
                "description": "activate at 8:00",
                "time": "8:00",
                "messages": 1,
                "topic": "cooldown",
                "value": "off"
            },
            {
                "description": "no cooldown",
                "time": "8:04",
                "messages": 0
            },
            {
                "description": "still no cooldown",
                "time": "8:03",
                "messages": 0
            },
            {
                "description": "cooldown",
                "time": "8:05",
                "messages": 1
            },
            {
                "description": "seconds cooldown",
                "time": "8:05",
                "messages": 0
            },
            {
                "description": "still second cooldown",
                "time": "8:09",
                "messages": 0
            },
            {
                "description": "third activation",
                "time": "8:10",
                "messages": 1
            },
            {
                "description": "fourth activation",
                "time": "8:15",
                "messages": 1
            }
        ]
    },
    {
        "description": "event rule",
        "rule": {
            "time": "8:00",
            "cooldownInSeconds": 300,
            "allOf": ["/required1"],
            "topic": "cooldown",
            "value": "off"
        },
        "tests": [
            {
                "description": "activate at 8:00",
                "time": "8:00",
                "motionEvents": ["/required1"],
                "messages": 1,
                "topic": "cooldown",
                "value": "off"
            },
            {
                "description": "no cooldown",
                "time": "8:04",
                "motionEvents": ["/required1"],
                "messages": 0
            },
            {
                "description": "still no cooldown",
                "time": "8:03",
                "motionEvents": ["/required1"],
                "messages": 0
            },
            {
                "description": "cooldown",
                "time": "8:05",
                "motionEvents": ["/required1"],
                "messages": 1
            }
        ]
    },
    {
        "description": "rules triggered by motionEvents will activate on every event",
        "rule": {
            "time": "8:00",
            "allOf": ["/required1"],
            "topic": "cooldown",
            "value": "off"
        },
        "tests": [
            {
                "description": "activate at 8:00",
                "time": "8:00",
                "motionEvents": ["/required1"],
                "messages": 1
            },
            {
                "description": "no cooldown",
                "time": "8:04",
                "motionEvents": ["/required1"],
                "messages": 1
            },
            {
                "description": "still no cooldown",
                "time": "8:03",
                "motionEvents": ["/required1"],
                "messages": 1
            }
        ]
    },
    {
        "description": "Non event rules will only trigger once",
        "rule": {
            "time": "8:00",
            "topic": "cooldown",
            "value": "off"
        },
        "tests": [
            {
                "description": "activate at 8:00",
                "time": "8:00",
                "motionEvents": ["/required1"],
                "messages": 1
            },
            {
                "description": "no cooldown",
                "time": "8:04",
                "motionEvents": ["/required1"],
                "messages": 0
            },
            {
                "description": "still no cooldown",
                "time": "8:03",
                "motionEvents": ["/required1"],
                "messages": 0
            }
        ]
    },
    {
        "description": "rule with time value",
        "rule": {
            "time": "8:00",
            "cooldownInSeconds": 300,
            "topic": "cooldown",
            "value": "/time"
        },
        "tests": [
            {
                "description": "activate at 8:00",
                "time": "8:00",
                "messages": 1,
                "topic": "cooldown"
            },
            {
                "description": "no cooldown",
                "time": "8:04",
                "messages": 0
            },
            {
                "description": "still no cooldown",
                "time": "8:03",
                "messages": 0
            },
            {
                "description": "cooldown",
                "time": "8:05",
                "messages": 1
            },
            {
                "description": "seconds cooldown",
                "time": "8:05",
                "messages": 0
            },
            {
                "description": "still second cooldown",
                "time": "8:09",
                "messages": 0
            },
            {
                "description": "third activation",
                "time": "8:10",
                "messages": 1
            },
            {
                "description": "fourth activation",
                "time": "8:15",
                "messages": 1
            }
        ]
    }
]