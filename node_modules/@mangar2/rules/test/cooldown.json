[
    {
        "rule": {
            "time": "8:00",
            "cooldownInSeconds": 300,
            "topic": "cooldown",
            "value": "off"
        },
        "tests": [
            {
                "name": "activate at 8:00",
                "time": "8:00",
                "messages": 1,
                "topic": "cooldown",
                "value": 0
            },
            {
                "name": "no cooldown",
                "time": "8:04",
                "messages": 0
            },
            {
                "name": "still no cooldown",
                "time": "8:03",
                "messages": 0
            },
            {
                "name": "cooldown",
                "time": "8:05",
                "messages": 1
            },
            {
                "name": "seconds cooldown",
                "time": "8:05",
                "messages": 0
            },
            {
                "name": "still second cooldown",
                "time": "8:09",
                "messages": 0
            },
            {
                "name": "third activation",
                "time": "8:10",
                "messages": 1
            },
            {
                "name": "fourth activation",
                "time": "8:15",
                "messages": 1
            }
        ]
    },
    {
        "rule": {
            "time": "8:00",
            "cooldownInSeconds": 300,
            "allOf": ["/required1"],
            "topic": "cooldown",
            "value": "off"
        },
        "tests": [
            {
                "name": "activate at 8:00",
                "time": "8:00",
                "events": ["/required1"],
                "messages": 1,
                "topic": "cooldown",
                "value": 0
            },
            {
                "name": "no cooldown",
                "time": "8:04",
                "events": ["/required1"],
                "messages": 0
            },
            {
                "name": "still no cooldown",
                "time": "8:03",
                "events": ["/required1"],
                "messages": 0
            },
            {
                "name": "cooldown",
                "time": "8:05",
                "events": ["/required1"],
                "messages": 1
            }
        ]
    },
    {
        "description": "rules triggered by events will activate on every event",
        "rule": {
            "time": "8:00",
            "allOf": ["/required1"],
            "topic": "cooldown",
            "value": "off"
        },
        "tests": [
            {
                "name": "activate at 8:00",
                "time": "8:00",
                "events": ["/required1"],
                "messages": 1
            },
            {
                "name": "no cooldown",
                "time": "8:04",
                "events": ["/required1"],
                "messages": 1
            },
            {
                "name": "still no cooldown",
                "time": "8:03",
                "events": ["/required1"],
                "messages": 1
            }
        ]
    },
    {
        "description": "Non event rules will only trigger once",
        "rule": {
            "time": "8:00",
            "topic": "cooldown",
            "value": "off"
        },
        "tests": [
            {
                "name": "activate at 8:00",
                "time": "8:00",
                "events": ["/required1"],
                "messages": 1
            },
            {
                "name": "no cooldown",
                "time": "8:04",
                "events": ["/required1"],
                "messages": 0
            },
            {
                "name": "still no cooldown",
                "time": "8:03",
                "events": ["/required1"],
                "messages": 0
            }
        ]
    }
]