[
    {
        "rule": {
            "time": "8:00",
            "topic": "topic",
            "value": "off"
        },
        "tests": [
            {
                "name": "activate at 8:00",
                "time": "8:00",
                "messages": 1,
                "topic": "topic",
                "value": 0
            },
            {
                "name": "activate at 10:00",
                "time": "10:00",
                "messages": 1,
                "topic": "topic",
                "value": 0
            },
            {
                "name": "too late",
                "time": "22:00",
                "messages": 0
            },
            {
                "name": "too early",
                "time": "07:59",
                "messages": 0
            }
        ]
    },
    {
        "rule": {
            "time": "8:00",
            "duration": "2:00",
            "topic": "topic",
            "value": "off"
        },
        "tests": [
            {
                "name": "activate at 9:59",
                "time": "9:59",
                "messages": 1,
                "topic": "topic",
                "value": 0
            },
            {
                "name": "too late",
                "time": "10:00",
                "messages": 0
            }
        ]
    },
    {
        "rule": {
            "time": ["switch", "/variable", { "one": "8:00", "two": "9:00" }],
            "topic": "topic",
            "value": "off"
        },
        "tests": [
            {
                "name": "variable is one ",
                "variables": {"/variable": "one"},
                "time": "8:00",
                "messages": 1,
                "topic": "topic",
                "value": 0
            },
            {
                "name": "variable is two ",
                "variables": {"/variable": "two"},
                "time": "8:00",
                "messages": 0
            },
            {
                "name": "variable is two, late enough ",
                "variables": {"/variable": "one"},
                "time": "9:00",
                "messages": 1,
                "topic": "topic",
                "value": 0
            }
        ]
    }

]
