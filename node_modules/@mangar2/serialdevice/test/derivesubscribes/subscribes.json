[
    {
        "description": "command and receiver map",
        "tests": [
            {
                "description": "command and receiverMap",
                "interfaces": {
                    "interface": {
                        "commandMap": {
                            "one": "end/1",
                            "two": "end/2"
                        },
                        "receiverMap": {
                            "level0/room1/device1/": 1,
                            "level1/room1/device1/": 2
                        }
                    }
                },
                "qos": 1,
                "expected": {
                    "level0/room1/device1/end/1/+": 1,
                    "level0/room1/device1/end/2/+": 1,
                    "level1/room1/device1/end/1/+": 1,
                    "level1/room1/device1/end/2/+": 1,
                    "$SYS/serialdevice/#": 1
                }
            },
            {
                "description": "no receiver map",
                "interfaces": {
                    "interface": {
                        "commandMap": {
                            "one": "level0/room1/device1/end/1",
                            "two": "level1/room1/device1/end/2"
                        }
                    }
                },
                "qos": 1,
                "expected": {
                    "level0/room1/device1/end/1/+": 1,
                    "level1/room1/device1/end/2/+": 1,
                    "$SYS/serialdevice/#": 1
                }
            },
            {
                "description": "empty command map",
                "interfaces": {
                    "interface": {
                        "commandMap": {
                        },
                        "receiverMap": {
                            "level0/room1/device1/": 1,
                            "level1/room1/device1/": 2
                        }
                    }
                },
                "qos": 1,
                "expected": {
                    "$SYS/serialdevice/#": 1
                }
            },
            {
                "description": "no command map",
                "interfaces": {
                    "interface": {
                        "receiverMap": {
                            "level0/room1/device1/": 1,
                            "level1/room1/device1/": 2
                        }
                    }
                },
                "qos": 1,
                "expected": {
                    "$SYS/serialdevice/#": 1
                }
            },
            {
                "description": "empty receiver map",
                "interfaces": {
                    "interface": {
                        "commandMap": {
                            "one": "end/1",
                            "two": "end/2"
                        },
                        "receiverMap": {
                        }
                    }
                },
                "qos": 1,
                "expected": {
                    "$SYS/serialdevice/#": 1
                }
            }
        ]
    },
    {
        "description": "topics",
        "tests": [
            {
                "description": "command and receiverMap",
                "interfaces": {
                    "interface": {
                        "topicMap": {
                            "level0/room1/switch/one": {
                                "command": "switch",
                                "value": 1,
                                "address": "main"
                            },
                            "level1/room1/switch/two": {
                                "command": "switch",
                                "value": 2,
                                "address": "main"
                            }
                        }
                    }
                },
                "qos": 1,
                "expected": {
                    "level0/room1/switch/one/+": 1,
                    "level1/room1/switch/two/+": 1,
                    "$SYS/serialdevice/#": 1
                }
            },
            {
                "description": "all",
                "interfaces": {
                    "interface": {
                        "topicMap": {
                            "level0/room1/switch/one": {
                                "command": "switch",
                                "value": 1,
                                "address": "main"
                            },
                            "level1/room1/switch/two": {
                                "command": "switch",
                                "value": 2,
                                "address": "main"
                            }
                        },
                        "commandMap": {
                            "one": "level0/room1/device1/end/1",
                            "two": "level1/room1/device1/end/2"
                        }
                    }
                },
                "qos": 1,
                "expected": {
                    "level0/room1/switch/one/+": 1,
                    "level1/room1/switch/two/+": 1,
                    "level0/room1/device1/end/1/+": 1,
                    "level1/room1/device1/end/2/+": 1,
                    "$SYS/serialdevice/#": 1
                }
            }
        ]
    }
]