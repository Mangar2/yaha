/**
 * @license
 * This software is licensed under the GNU LESSER GENERAL PUBLIC LICENSE Version 3. It is furnished
 * "as is", without any support, and with no warranty, express or implied, as to its usefulness for
 * any purpose.
 *
 * @author Volker Böhm
 * @copyright Copyright (c) 2020 Volker Böhm
 */

'use strict'

const { isTimeOfDayString, stringToSeconds, dateToTimeOfDayInSeconds } = require('@mangar2/time')
const UnitTest = require('@mangar2/unittest')

const unitTest = new UnitTest(true, true)

function testStringToSeconds () {
    const testCases = {
        '1:00:00': 3600,
        '1:00': 3600,
        '01': 60,
        '01:01': 3660
    }
    for (const time in testCases) {
        unitTest.assertEqual(stringToSeconds(time), testCases[time], time)
    }
}

function testIsTimeOfDayString () {
    const testCases = {
        a: false,
        'a:b': false,
        '10:00': true,
        10: false,
        '25:00': false,
        '20:59': true,
        '20:60': false,
        '20:59:59': true,
        '20:59:60': false,
        '20:00:00:00': false
    }

    unitTest.assertFalse(isTimeOfDayString(10))

    for (const test in testCases) {
        const result = testCases[test]
        unitTest.assertEqual(isTimeOfDayString(test), result, test)
    }
}

testStringToSeconds()
testIsTimeOfDayString()

const date = new Date()
unitTest.assertEqual(dateToTimeOfDayInSeconds(date), date.getHours() * 3600 + date.getMinutes() * 60 + date.getSeconds())

unitTest.showResult(16)
