<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [TopicMatch][1]
    -   [Parameters][2]
    -   [Examples][3]
    -   [setPattern][4]
        -   [Parameters][5]
    -   [removePattern][6]
        -   [Parameters][7]
    -   [changePattern][8]
        -   [Parameters][9]
    -   [getAllMatchingPattern][10]
        -   [Parameters][11]
    -   [getFirstMatch][12]
        -   [Parameters][13]
    -   [getBestMatch][14]
        -   [Parameters][15]

## 

**Meta**

-   **copyright**: Copyright (c) 2020 Volker Böhm

-   **author**: Volker Böhm
-   **license**: This software is licensed under the GNU LESSER GENERAL PUBLIC LICENSE Version 3. It is furnished
    "as is", without any support, and with no warranty, express or implied, as to its usefulness for
    any purpose.

## TopicMatch

Contructs a new class
Checks, if a topic matches a list of patterns. The pattern is bases on the MQTT
pattern design. Every pattern has an associated value (used for QoS in MQTT)
Topic structure slashes with strings in between:  /string1/string2/string3/...
Pattern is like topic with the following whildcards: "+" and "#". The "+" matches
any string, the "#" matches the rest of the topic.

### Parameters

-   `topicPatternList` **[Object][16]** optional: pattern data structure {pattern: value, pattern: value, ...}

### Examples

```javascript
const topicMatch = new TopicMatch()
topicMatch.setPattern('#', 0)
topicMatch.getFirstMatch('hello') // returns 0
topicMatch.removePattern('#')
topicMatch.setPattern('/+', 1)
topicMatch.getFirstMatch('hello') // returns undefined
topicMatch.getFirstMatch('/hello') // returns 1
topicMatch.getFirstMatch('/hello/world') // returns undefined
```

### setPattern

Adds a pattern string to the patternlist (if not already included)

#### Parameters

-   `pattern` **[string][17]** 
-   `value` **any** value associated with the pattern


-   Throws **[Error][18]** if pattern is not string or value is not provided

### removePattern

Removes all pattern from the list matching the provided patterns. A "removePattern("#")" will for
example remove all stored patterns

#### Parameters

-   `pattern` **([array][19] \| [string][17])** string or array of strings containing patterns to delete

### changePattern

Sets, adds and/or removes pattern.

#### Parameters

-   `patternCommand` **[Object][16]** object with attributes "set, remove, add" and a pattern list

### getAllMatchingPattern

Gets a list of matching pattern

#### Parameters

-   `searchTopic` **[string][17]** topic to search for

Returns **[Object][16]** all matching topics {topic1: value, topic2: value, ...}

### getFirstMatch

Gets the value of the first matching pattern.

#### Parameters

-   `searchTopic` **[string][17]** topic to search for

Returns **(any | [undefined][20])** value associated with the found topic or undefined, if nothing matches

### getBestMatch

Gets the best value of all matching pattern according the compare function.
If no compare function is provided, the values of the patterns are compared with the ">" operator

#### Parameters

-   `searchTopic` **[string][17]** topic to search for
-   `isBetter` **function (newValue, currentValue)** (a, b) function deciding, if "a" is better than "b"

Returns **any** value associated with the best found topic or undefined, if nothing matches

[1]: #topicmatch

[2]: #parameters

[3]: #examples

[4]: #setpattern

[5]: #parameters-1

[6]: #removepattern

[7]: #parameters-2

[8]: #changepattern

[9]: #parameters-3

[10]: #getallmatchingpattern

[11]: #parameters-4

[12]: #getfirstmatch

[13]: #parameters-5

[14]: #getbestmatch

[15]: #parameters-6

[16]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[17]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[18]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Error

[19]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[20]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/undefined
