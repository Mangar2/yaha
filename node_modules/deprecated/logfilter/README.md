<!-- This file is generated by jsmddoc version 0.1 -->

# Abstract

Filters logs by a topic string and prints them to console

## Contents

- [Meta](#Meta)
- [Type definitions](#Type-definitions)
- [Class LogFilter](#Class-LogFilter)
  - [Methods](#LogFilter-Methods)
    - [changePattern](#changePattern)
    - [condLogMessage](#condLogMessage)
    - [getLogLevel](#getLogLevel)

## Meta

| | |
| --- | --- |
| **File** | logfilter.js |
| **Abstract** | Filters logs by a topic string and prints them to console |
| **Author** | Volker Böhm |
| **Copyright** | Copyright ( c ) 2020 Volker Böhm |
| **License** | This software is licensed under the GNU LESSER GENERAL PUBLIC LICENSE Version 3 . It is furnished "as is" , without any support , and with no warranty , express or implied , as to its usefulness for any purpose . |

## Type definitions

### LogPattern {Object}

| Name | Type | Description |
| ---- | ---- | ------- |
| `pattern` | `string` | log topic pattern | |
| `module` | `string` | module to log , "send" , "receive" or "all" ( for all modules ) | |
| `level` | `number` | log level for the pattern | |

## Class LogFilter

`new LogFilter()`

Provides a simple filter for logging topic based messages

### Example

```javascript
const logfilter = new LogFilter()
logfilter.changePattern([{ topic: 'input/%', module: 'receive', level: 1 }])
logfilter.condLogMessage('receive', new Message('hello world', 1), 1)
```

### LogFilter Methods

#### changePattern

`changePattern (patternList)`

Replaces the log filter patterns , deleting the current patterns and replace them with the new patterns

##### changePattern Parameters

| Name | Type |
| ---------- | ------------ |
| `patternList` | `Array.<LogPattern>` | |

##### changePattern throws

| Type | Description |
| ---- | ----------- |
| `` | error , if the parameter is badly formatted |

#### condLogMessage

`condLogMessage (moduleStr, message, qos, dup, serviceName)`

Logs a message

##### condLogMessage Parameters

| Name | Type | Attribute | Description |
| ---------- | ------------ | ------------ | ----------------- |
| `moduleStr` | `string` |  | name of the "module" for logging | |
| `message` | `Message` |  | message structure | |
| `qos` | `number` |  | quality of service of message delivery | |
| `dup` | `boolean, number` |  | duplicate flag ( true/false , 0/1 ) | |
| `serviceName` | `string` | optional | name of the service logging | |

#### getLogLevel

`getLogLevel (module, topic) => {undefined, number}`

Gets the log level

##### getLogLevel Parameters

| Name | Type | Description |
| ---------- | ------------ | ----------------- |
| `module` | `string` | name of the module to check for | |
| `topic` | `string` | topic to check | |

##### getLogLevel returns

| Type | Description |
| ---- | ----------- |
| `undefined, number` | returns a log level or undefine , if logging is false |
