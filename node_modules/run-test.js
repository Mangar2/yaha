/**
 * @license
 * This software is licensed under the GNU LESSER GENERAL PUBLIC LICENSE Version 3. It is furnished
 * "as is", without any support, and with no warranty, express or implied, as to its usefulness for
 * any purpose.
 *
 * @author Volker Böhm
 * @copyright Copyright (c) 2020 Volker Böhm
 * @overview Runs all unit tests
 */


async function runTest(module, fileName) {
    const { getResult } = require(fileName)
    console.log(`Running tests from ${module} (${fileName})`)
    const testResult = await getResult()
    if (testResult.failed) {
        console.log(`Failed with message: ${testResult.message}`)
    } else {
        console.log('Success')
    }
}

const tests = {
    Unittest: '@mangar2/unittest/test/test-code',
    Utils: '@mangar2/utils/test/test-code'
}

async function runTests() {
    for (const test in tests) {
        await runTest(test, tests[test])
    }
}

runTests()
