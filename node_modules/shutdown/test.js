const shutdown = require('./shutdown');

shutdown(async () => {
    console.log("SIGINT received");
    await delay(1000);
    console.log("safe shutdown")
    process.exit(0);
});


function delay(milliseconds) {
    return new Promise(resolve => setTimeout(resolve, milliseconds));
}

(async () => {
    for (i = 0; i < 10; i++) {
        await delay(1000);
        console.log(".");
    }
})()



